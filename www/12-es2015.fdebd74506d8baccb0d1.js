(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"6caJ":function(e,t,n){"use strict";n.r(t),n.d(t,"AccountFollowsModule",(function(){return C}));var o=n("ofXK"),r=n("PCNd"),i=n("tyNb"),s=n("mrSG"),l=n("XNiG"),a=n("Kj3r"),c=n("fXoL"),g=n("qfBg"),d=n("TEn/"),h=n("uX3w");function p(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",11),c["\u0275\u0275text"](1,"N\xe3o encontramos nada por aqui \u{1f937}\u200d\u2642\ufe0f"),c["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",12),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().goToFollower(n.nickname)})),c["\u0275\u0275elementStart"](1,"img",13,14),c["\u0275\u0275listener"]("error",(function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](2).src="../../../../../assets/images/default-avatar.png"})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",15),c["\u0275\u0275elementStart"](4,"span"),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"span"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",e.imageUrl,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.bio)}}function w(e,t){1&e&&c["\u0275\u0275element"](0,"ion-progress-bar",16)}function f(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",17),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.pageIndex=t.pageIndex+1,t.loadFollowers()})),c["\u0275\u0275text"](1,"Carregar mais"),c["\u0275\u0275elementEnd"]()}}let m=(()=>{class e{constructor(e,t,n){this._userService=e,this._activatedRoute=t,this._navCtrl=n,this.followers=[],this.searchChange=new l.a,this.pageIndex=0,this.pageLimit=15}ionViewDidEnter(){this._searchChangeSubscription=this.searchChange.pipe(Object(a.a)(500)).subscribe(e=>{this._searchTerms=e,this.loadFollowers(!0)}),this.switchTab(this._activatedRoute.snapshot.params.tab),this._userService.getLoggedUser().subscribe(e=>this.user=e)}ionViewDidLeave(){this._searchChangeSubscription.unsubscribe()}goToFollower(e){this._navCtrl.navigateForward("/home/card",{queryParams:{userName:e}})}switchTab(e){this.tab=e||("followers"==this.tab?"following":"followers"),this.loadFollowers(!0)}loadFollowers(e=!1){return Object(s.a)(this,void 0,void 0,(function*(){e&&(this.followers=[],this.pageIndex=0),this.showLoading=!0;const t=yield new Promise(e=>{switch(this.tab){case"followers":this._userService.getUserFollowers(this.pageIndex,this.pageLimit,this._searchTerms).subscribe(t=>{this.followers.push(...t),e(t)});break;case"following":this._userService.getUserFollowing(this.pageIndex,this.pageLimit,this._searchTerms).subscribe(t=>{this.followers.push(...t),e(t)});break;default:e([])}});this.showLoading=!1,this.showLoadMore=t.length>=this.pageLimit}))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](g.a),c["\u0275\u0275directiveInject"](i.a),c["\u0275\u0275directiveInject"](d.M))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-account-follows"]],decls:15,vars:8,consts:[[3,"showButtonBack","title"],[1,"tabs"],[1,"titles",3,"click"],[1,"selector"],[1,"followers"],["placeholder","Digite para pesquisar",1,"search",3,"input"],["searchInput",""],["class","empty",4,"ngIf"],["class","follower",3,"click",4,"ngFor","ngForOf"],["type","indeterminate","color","secondary",4,"ngIf"],["class","load-more",3,"click",4,"ngIf"],[1,"empty"],[1,"follower",3,"click"],[3,"src","error"],["profileImage",""],[1,"info-follower"],["type","indeterminate","color","secondary"],[1,"load-more",3,"click"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275element"](0,"base-toolbar",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275listener"]("click",(function(){return t.switchTab()})),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Seguindo"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span"),c["\u0275\u0275text"](6,"Seguidores"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](7,"div",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",4),c["\u0275\u0275elementStart"](9,"input",5,6),c["\u0275\u0275listener"]("input",(function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](10);return t.searchChange.next(n.value)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](11,p,2,0,"span",7),c["\u0275\u0275template"](12,u,8,3,"div",8),c["\u0275\u0275template"](13,w,1,0,"ion-progress-bar",9),c["\u0275\u0275template"](14,f,2,0,"span",10),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275property"]("showButtonBack",!0)("title",null==t.user?null:t.user.nickname),c["\u0275\u0275advance"](7),c["\u0275\u0275styleMap"]("left:"+("following"==t.tab?"0":"50")+"%"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",!(t.showLoading||null!=t.followers&&t.followers.length)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.followers),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.showLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.showLoadMore))},directives:[h.a,o.j,o.i,d.u],styles:["[_nghost-%COMP%]{background-color:var(--background-color)}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]{flex-direction:column;height:42px;min-height:42px;position:relative;cursor:pointer;width:var(--container-width);max-width:var(--container-max-width);margin:0 auto}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%], [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .titles[_ngcontent-%COMP%]{display:flex;justify-content:space-around}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{height:2px;width:50%;background-color:var(--ion-color-secondary);position:absolute;transition:.3s;bottom:0}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding:24px;overflow:auto;height:100%;width:var(--container-width);max-width:var(--container-max-width);margin:0 auto}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], [_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{font-weight:700;color:var(--ion-color-secondary);cursor:pointer}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:42px;min-height:42px;border-radius:20px;border:1px solid #707070;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;padding:0 12px;background-color:var(--background-color)}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]{display:flex;gap:24px;cursor:pointer}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:12px}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;min-width:64px;min-height:64px;border-radius:50%}@supports (-webkit-touch-callout:none){[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]{margin-top:24px!important}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   .info-follower[_ngcontent-%COMP%]{margin-left:12px!important}}"]}),e})(),C=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.b,r.a,i.j.forChild([{path:"",component:m}])]]}),e})()}}]);