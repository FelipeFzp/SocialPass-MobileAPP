(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{X5fl:function(e,n,t){"use strict";t.r(n),t.d(n,"CardCollectionsModule",(function(){return O}));var o=t("ofXK"),c=t("PCNd"),i=t("tyNb"),r=t("fXoL"),l=t("TEn/"),a=t("2g2N"),s=t("3LUQ"),d=t("8dox"),g=t("uX3w");function p(e,n){1&e&&r["\u0275\u0275element"](0,"ion-progress-bar",5)}function C(e,n){1&e&&(r["\u0275\u0275elementStart"](0,"span",6),r["\u0275\u0275text"](1,"N\xe3o encontramos nada por aqui. \u{1f937}\u200d\u2642\ufe0f"),r["\u0275\u0275elementEnd"]())}const m=function(e){return{disabled:e}};function h(e,n){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",13),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=n.$implicit;return r["\u0275\u0275nextContext"](2).goToCard(t.nickname)})),r["\u0275\u0275elementStart"](1,"ion-avatar",14),r["\u0275\u0275elementStart"](2,"img",15,16),r["\u0275\u0275listener"]("error",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](3).src="../../../../../assets/images/default-avatar.png"})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"ion-label"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=n.$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](3,m,t.loading)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("src",e.imageUrl,r["\u0275\u0275sanitizeUrl"]),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](e.name)}}function _(e,n){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275elementStart"](1,"div",8),r["\u0275\u0275elementStart"](2,"div"),r["\u0275\u0275element"](3,"ion-icon",9),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"ion-icon",10),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=n.$implicit;return r["\u0275\u0275nextContext"]().deleteCollection(t.id)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",11),r["\u0275\u0275template"](7,h,6,5,"div",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=n.$implicit,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",e.name," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](3,m,t.loading)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.cards)}}let u=(()=>{class e{constructor(e,n,t,o){this._navCtrl=e,this._toastService=n,this._alertService=t,this._cardCollectionService=o}ionViewDidEnter(){this.loadCollections()}loadCollections(){this.loading=!0,this._cardCollectionService.getCollectionsWithCards().subscribe(e=>{this.collections=e,this.loading=!1},e=>{this._toastService.showHttpError(e),this.loading=!1})}deleteCollection(e){this._alertService.show({subHeader:"Tem certeza que deseja excluir essa cole\xe7\xe3o?",buttons:[{text:"N\xe3o",role:"cancel"},{text:"Sim",cssClass:"danger",handler:()=>{this.loading=!0,this._cardCollectionService.deleteCollection(e).subscribe(()=>{this.collections=this.collections.filter(n=>n.id!=e),this._toastService.show("Cole\xe7\xe3o deletada com sucesso. \u{1f440}"),this.loading=!1},e=>{this._toastService.showHttpError(e),this.loading=!1})}}]})}goToCard(e){this._navCtrl.navigateForward("/home/card",{queryParams:{userName:e}})}}return e.\u0275fac=function(n){return new(n||e)(r["\u0275\u0275directiveInject"](l.M),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-card-collections"]],decls:5,vars:4,consts:[["title","Cole\xe7\xf5es",3,"showButtonBack"],["type","indeterminate",4,"ngIf"],[1,"collection-containers"],["class","empty",4,"ngIf"],["class","collection",4,"ngFor","ngForOf"],["type","indeterminate"],[1,"empty"],[1,"collection"],[1,"header"],["name","bookmarks-outline"],["name","trash",1,"delete",3,"ngClass","click"],[1,"cards"],["class","card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card",3,"ngClass","click"],["slot","start"],[3,"src","error"],["profileImage",""]],template:function(e,n){1&e&&(r["\u0275\u0275element"](0,"base-toolbar",0),r["\u0275\u0275template"](1,p,1,0,"ion-progress-bar",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275template"](3,C,2,0,"span",3),r["\u0275\u0275template"](4,_,8,5,"div",4),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("showButtonBack",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.loading),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!(null!=n.collections&&n.collections.length||n.loading)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",n.collections))},directives:[g.a,o.j,o.i,l.u,l.n,o.h,l.c,l.q],styles:["[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]{padding:24px;flex:1;display:flex;flex-direction:column;gap:32px;align-items:center;overflow:auto}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]{max-width:var(--container-max-width);width:var(--container-width)}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{font-size:22px;cursor:pointer;color:var(--ion-color-primary-shade)}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .delete.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,25%);row-gap:12px}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;text-align:center;max-width:90%;max-height:110px;overflow:hidden;border:none;background-color:var(--background-color)}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card.disabled[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .collection-containers[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:12px;font-size:12px}"]}),e})(),O=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(n){return new(n||e)},imports:[[o.b,c.a,i.j.forChild([{path:"",component:u}])]]}),e})()}}]);