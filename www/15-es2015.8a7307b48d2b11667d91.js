(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"99Un":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",(function(){return x}));var a=n("ofXK"),o=n("tyNb"),i=n("fXoL"),r=n("n90K"),c=n("TEn/"),s=n("lGQG"),l=n("Gi7S"),d=n("Lr79");function u(e,t){if(1&e&&i["\u0275\u0275element"](0,"ion-icon",10),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("name",e.icon)}}function b(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ion-avatar"),i["\u0275\u0275elementStart"](1,"img",11,12),i["\u0275\u0275listener"]("error",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275reference"](2).src="../../../assets/images/default-avatar.png"})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",e.imageUrl,i["\u0275\u0275sanitizeUrl"])}}function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"ion-label"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.label)}}function g(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ion-tab-button",7),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).onTabClick.emit(n.id)})),i["\u0275\u0275template"](1,u,1,1,"ion-icon",8),i["\u0275\u0275template"](2,b,3,1,"ion-avatar",9),i["\u0275\u0275template"](3,p,2,1,"ion-label",9),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275property"]("tab",e.route)("id",e.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.icon),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.imageUrl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.label)}}const h=function(e){return{hide:e}};function m(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"ion-tabs",1),i["\u0275\u0275listener"]("ionTabsDidChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().updateTabCustomSelector(t.tab)}))("ionTabsDidChange",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onTabChange.emit()})),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275element"](2,"div",3),i["\u0275\u0275element"](3,"div",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"ion-tab-bar",5),i["\u0275\u0275template"](5,g,4,5,"ion-tab-button",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](7,h,!e.tabsService.show)),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("transform","translateX(calc((100% / "+e.tabs.length+") * "+e.selectedTabIndex+" ))"),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("transform","translateX(calc((100% / "+e.tabs.length+") * "+e.selectedTabIndex+"))"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](9,h,!e.tabsService.show)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.tabs)}}let f=(()=>{class e{constructor(e){this.tabsService=e,this.onTabClick=new i.EventEmitter,this.onTabChange=new i.EventEmitter,this.selectedTabIndex=1}updateTabCustomSelector(e){var t;this.selectedTabIndex=(null===(t=this.tabs)||void 0===t?void 0:t.findIndex(t=>t.id==e))+1}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-colored-tab"]],inputs:{tabs:"tabs"},outputs:{onTabClick:"onTabClick",onTabChange:"onTabChange"},decls:1,vars:1,consts:[[3,"ionTabsDidChange",4,"ngIf"],[3,"ionTabsDidChange"],[1,"selector-bar",3,"ngClass"],[1,"selector","left"],[1,"selector","right"],["slot","bottom",3,"ngClass"],[3,"tab","id","click",4,"ngFor","ngForOf"],[3,"tab","id","click"],[3,"name",4,"ngIf"],[4,"ngIf"],[3,"name"],[3,"src","error"],["tabImg",""]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,m,6,11,"ion-tabs",0),2&e&&i["\u0275\u0275property"]("ngIf",t.tabs)},directives:[a.j,c.E,a.h,c.C,a.i,c.D,c.n,c.c,c.q],styles:[".selector-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);position:relative;transition:opacity .3s}.selector-bar.hide[_ngcontent-%COMP%]{pointer-events:none;opacity:0}.selector-bar[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;background-color:#fff;transition:.2s ease-out}.selector-bar[_ngcontent-%COMP%]   .selector.left[_ngcontent-%COMP%]{left:-134%}ion-avatar[_ngcontent-%COMP%]{height:32px;width:32px}ion-tab-bar[_ngcontent-%COMP%]{transition:opacity .3s;display:flex;justify-content:space-around}ion-tab-bar[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}@media (min-width:768px){ion-tab-bar[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:unset}}ion-tab-bar.hide[_ngcontent-%COMP%]{pointer-events:none;opacity:0}"]}),e})(),v=(()=>{class e{constructor(e,t,n,a,o){this._activatedRoute=e,this._storageService=t,this._navCtrl=n,this._authService=a,this._menuService=o,this.loadTabs(),this._authService.onLoggedChange.subscribe(e=>{this.loadTabs()})}onTabClick(e){switch(e){case"menu":this._storageService.loadData().subscribe(e=>{(null==e?void 0:e.token)?this._menuService.menuToggle():this._navCtrl.navigateRoot("/login",{queryParams:{redirectRoute:"/home/card"}})});break;case"card":this._navCtrl.navigateRoot("/home/card")}}loadTabs(){this._storageService.loadData().subscribe(e=>{var t;let n="assets/images/logo_full.png";(null==e?void 0:e.token)&&(n=(null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.imageUrl)||"../../../assets/images/default-avatar.png"),this.tabs=void 0,this.tabs=[{id:"search",route:"search",icon:"search",label:"Buscar"},{id:"card",route:"card",imageUrl:n,label:"Meu cart\xe3o"},{id:"menu",icon:"menu",label:"Menu"}]})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](c.M),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-home"]],decls:1,vars:1,consts:[[3,"tabs","onTabClick"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"app-colored-tab",0),i["\u0275\u0275listener"]("onTabClick",(function(e){return t.onTabClick(e)})),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("tabs",t.tabs)},directives:[f],styles:[".selector-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);position:relative}.selector-bar[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;background-color:#fff;transition:.2s ease-out}.selector-bar[_ngcontent-%COMP%]   .selector.left[_ngcontent-%COMP%]{left:-134%}"]}),e})();var C=n("PCNd");let _=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b,c.I]]}),e})();var y=n("bjb0");let w=(()=>{class e{constructor(e,t){this._localStorage=e,this._navCtrl=t,this._localStorage.loadData().subscribe(e=>{this._navCtrl.navigateRoot((null==e?void 0:e.user)?"/home/card":"/home/search")})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](c.M))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),x=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b,C.a,_,o.j.forChild([{path:"",component:v,children:[{path:"",component:w},{path:"search",loadChildren:()=>Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"aeXx")).then(e=>e.SearchModule)},{path:"card",loadChildren:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"Aw9J")).then(e=>e.CardModule),canActivate:[y.a]}]}])]]}),e})()}}]);