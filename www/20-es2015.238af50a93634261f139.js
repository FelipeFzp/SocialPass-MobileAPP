(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{F4UR:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginPageModule",(function(){return M}));var o=n("ofXK"),i=n("3Pt+"),a=n("TEn/"),r=n("mrSG"),s=n("/xH+"),l=n("ZQB6"),c=n("fXoL"),d=n("lGQG"),g=n("qfBg"),m=n("tk/3"),u=n("2g2N"),h=n("5dVO"),p=n("tyNb"),f=n("odAe");function b(t,e){if(1&t){const t=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](t),c["\u0275\u0275nextContext"]().loginWithLinkedin()})),c["\u0275\u0275element"](1,"ion-icon",17),c["\u0275\u0275text"](2," Entrar com Linkedin "),c["\u0275\u0275elementEnd"]()}}function _(t,e){if(1&t){const t=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](t),c["\u0275\u0275nextContext"]().loginWithGoogle()})),c["\u0275\u0275element"](1,"ion-icon",18),c["\u0275\u0275text"](2," Entrar com Google "),c["\u0275\u0275elementEnd"]()}}function C(t,e){if(1&t){const t=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](t),c["\u0275\u0275nextContext"]().loginWithFacebook()})),c["\u0275\u0275element"](1,"ion-icon",19),c["\u0275\u0275text"](2," Entrar com Facebook "),c["\u0275\u0275elementEnd"]()}}let P=(()=>{class t{constructor(t,e,n,o,i,a,r,s){this._authService=t,this._userService=e,this._http=n,this._toast=o,this.navCtrl=i,this._loader=a,this._activatedRoute=r,this.platform=s,this.initForm(),this._socialMediaHelper=new l.a(this._userService)}ngOnInit(){const t=this._activatedRoute.snapshot.queryParams.code;t&&this.loginWithLinkedin(t)}loginWithGoogle(){return Object(r.a)(this,void 0,void 0,(function*(){this._loader.show();try{const t=yield this._socialMediaHelper.loginWithGoogle();this._authService.loginWithGoogle({email:t.email,fullName:t.name,userId:t.id}).subscribe(t=>{this._loader.dismiss(),this.navCtrl.navigateRoot(this._activatedRoute.snapshot.queryParams.redirectRoute||"/home/search")},t=>{this._toast.show(s.a.mapErrorResponse(t).message||"Falha ao fazer login com o Google. \u{1f61f}")})}catch(t){this._toast.show(t),this._loader.dismiss()}}))}loginWithFacebook(){return Object(r.a)(this,void 0,void 0,(function*(){this._loader.show();try{const t=yield this._socialMediaHelper.loginWithFacebook();this._authService.loginWithFacebook({email:t.email,fullName:t.name,userId:t.id}).subscribe(t=>{this._loader.dismiss(),this.navCtrl.navigateRoot(this._activatedRoute.snapshot.queryParams.redirectRoute||"/home/search")},t=>{this._toast.show(s.a.mapErrorResponse(t).message||"Falha ao fazer login com o Facebook. \u{1f61f}")})}catch(t){this._toast.show(t),this._loader.dismiss()}}))}loginWithLinkedin(t){return Object(r.a)(this,void 0,void 0,(function*(){this._loader.show();const e=yield this._socialMediaHelper.loginWithLinkedin(t,this._getLinkedinRedirectUrl());this._authService.loginWithLinkedin({userId:e.id,email:e.email,fullName:e.name}).subscribe(t=>{this._loader.dismiss(),this.navCtrl.navigateRoot(this._activatedRoute.snapshot.queryParams.redirectRoute||"/home/search")},t=>{this._toast.show(s.a.mapErrorResponse(t).message||"Falha ao fazer login com o Linkedin. \u{1f61f}")})}))}_getLinkedinRedirectUrl(){const t=this._activatedRoute.snapshot.queryParams.redirectRoute;return`${window.location.href.split("?")[0]}${t?"?redirectRoute="+t:""}`}initForm(){this.loginForm=new i.d({email:new i.a(null,[i.o.required,i.o.email]),password:new i.a(null,[i.o.required,i.o.minLength(4)])})}login(){this._loader.show(),this._authService.login({email:this.loginForm.get("email").value,password:this.loginForm.get("password").value}).subscribe(t=>{this._loader.dismiss(),this.navCtrl.navigateRoot(this._activatedRoute.snapshot.queryParams.redirectRoute||"/home/search")},t=>{this._loader.dismiss(),this._toast.show(s.a.mapErrorResponse(t).message)})}recoverPassword(){this.navCtrl.navigateRoot("/lost-password")}}return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](g.a),c["\u0275\u0275directiveInject"](m.b),c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](a.M),c["\u0275\u0275directiveInject"](h.a),c["\u0275\u0275directiveInject"](p.a),c["\u0275\u0275directiveInject"](f.a))},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["app-login"]],decls:32,vars:4,consts:[[1,"login-body"],[1,"logo-mark"],[1,"logo"],["src","assets/images/logo_outer.png"],["src","assets/images/logo_inner.png"],[3,"formGroup"],["position","fixed"],["type","email","autocomplete","off","formControlName","email","color","light","required",""],["type","password","autocomplete","off","formControlName","password","color","light","required",""],[1,"buttons"],["color","light","type","submit",1,"white-button",3,"click"],[3,"click"],[1,"lost-password",3,"click"],[1,"buttons","bottom"],["class","outline-button",3,"click",4,"ngIf"],[1,"outline-button",3,"click"],["name","arrow-back-outline"],["name","logo-linkedin"],["name","logo-google"],["name","logo-facebook"]],template:function(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275element"](3,"img",3),c["\u0275\u0275element"](4,"img",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span"),c["\u0275\u0275text"](6,"PASS"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"form",5),c["\u0275\u0275elementStart"](8,"ion-item"),c["\u0275\u0275elementStart"](9,"ion-label",6),c["\u0275\u0275text"](10,"E-mail"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](11,"ion-input",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"ion-item"),c["\u0275\u0275elementStart"](13,"ion-label",6),c["\u0275\u0275text"](14,"Senha"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](15,"ion-input",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",9),c["\u0275\u0275elementStart"](17,"button",10),c["\u0275\u0275listener"]("click",(function(){return e.login()})),c["\u0275\u0275text"](18," Entrar "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"button",11),c["\u0275\u0275listener"]("click",(function(){return e.navCtrl.navigateForward("/register")})),c["\u0275\u0275text"](20,"REGISTRAR-SE"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"a",12),c["\u0275\u0275listener"]("click",(function(){return e.recoverPassword()})),c["\u0275\u0275text"](22,"Esqueceu sua senha? "),c["\u0275\u0275elementStart"](23,"span"),c["\u0275\u0275text"](24,"Clique aqui"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",13),c["\u0275\u0275template"](26,b,3,0,"button",14),c["\u0275\u0275template"](27,_,3,0,"button",14),c["\u0275\u0275template"](28,C,3,0,"button",14),c["\u0275\u0275elementStart"](29,"button",15),c["\u0275\u0275listener"]("click",(function(){return e.navCtrl.navigateBack("/")})),c["\u0275\u0275element"](30,"ion-icon",16),c["\u0275\u0275text"](31," Voltar para a tela inicial "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("formGroup",e.loginForm),c["\u0275\u0275advance"](19),c["\u0275\u0275property"]("ngIf",null==e.platform?null:e.platform.isWeb),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.platform?null:e.platform.isWeb),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.platform?null:e.platform.isWeb))},directives:[i.p,i.l,i.e,a.p,a.q,a.o,a.Q,i.k,i.c,i.n,o.j,a.n],styles:["[_nghost-%COMP%]{background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);background-size:400% 400%;-webkit-animation:background-frames 10s ease-in-out infinite;animation:background-frames 10s ease-in-out infinite;display:flex;flex-direction:row;justify-content:center}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]{max-width:600px;width:600px;height:100%;min-height:100%;position:relative;display:flex;flex-direction:column}@-webkit-keyframes background-frames{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}@keyframes background-frames{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .logo-mark[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:24px 0;-webkit-animation:fade-in 3s;animation:fade-in 3s}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .logo-mark[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:relative;width:72px;height:72px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .logo-mark[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:72px;height:72px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .logo-mark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-family:AllerDisplay;font-size:38px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{-webkit-animation:fade-in 3s;animation:fade-in 3s;display:flex;align-items:center;flex-direction:column}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:transparent;--color:#fff;--border-color:hsla(0,0%,100%,0.6);--highlight-background:transparent;min-width:95%;max-width:95%;border-radius:6px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{-webkit-animation:fade-in 3s;animation:fade-in 3s;padding:32px 0;display:flex;flex-direction:column;align-items:center;gap:12px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], [_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:95%;max-width:95%;font-family:montserrat;background-color:transparent;color:#fff;border:1px solid #fff;padding:0 1.1em;border-radius:4px;height:36px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .outline-button[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;justify-content:center}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .white-button[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid #fff;padding:0 1.1em;border-radius:4px;height:36px}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .lost-password[_ngcontent-%COMP%]{font-size:14px;color:#fff;cursor:pointer}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .lost-password[_ngcontent-%COMP%]:hover{text-decoration:none}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .lost-password[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons.bottom[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%;padding-bottom:0}@media screen and (max-height:560px){[_nghost-%COMP%]   .login-body[_ngcontent-%COMP%]   .buttons.bottom[_ngcontent-%COMP%]{display:none}}"]}),t})(),M=(()=>{class t{}return t.\u0275mod=c["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.b,i.f,a.I,i.m,p.j.forChild([{path:"",component:P}])]]}),t})()}}]);