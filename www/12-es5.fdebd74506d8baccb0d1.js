function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"6caJ":function(e,t,n){"use strict";n.r(t),n.d(t,"AccountFollowsModule",(function(){return v}));var o=n("ofXK"),r=n("PCNd"),a=n("tyNb"),i=n("mrSG"),l=n("XNiG"),s=n("Kj3r"),c=n("fXoL"),u=n("qfBg"),p=n("TEn/"),g=n("uX3w");function d(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",11),c["\u0275\u0275text"](1,"N\xe3o encontramos nada por aqui \ud83e\udd37\u200d\u2642\ufe0f"),c["\u0275\u0275elementEnd"]())}function f(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",12),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().goToFollower(e.nickname)})),c["\u0275\u0275elementStart"](1,"img",13,14),c["\u0275\u0275listener"]("error",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](2).src="../../../../../assets/images/default-avatar.png"})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",15),c["\u0275\u0275elementStart"](4,"span"),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"span"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",o.imageUrl,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](o.name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](o.bio)}}function h(e,t){1&e&&c["\u0275\u0275element"](0,"ion-progress-bar",16)}function m(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"span",17),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.pageIndex=e.pageIndex+1,e.loadFollowers()})),c["\u0275\u0275text"](1,"Carregar mais"),c["\u0275\u0275elementEnd"]()}}var w,_,C=((_=function(){function e(t,n,o){_classCallCheck(this,e),this._userService=t,this._activatedRoute=n,this._navCtrl=o,this.followers=[],this.searchChange=new l.a,this.pageIndex=0,this.pageLimit=15}return _createClass(e,[{key:"ionViewDidEnter",value:function(){var e=this;this._searchChangeSubscription=this.searchChange.pipe(Object(s.a)(500)).subscribe((function(t){e._searchTerms=t,e.loadFollowers(!0)})),this.switchTab(this._activatedRoute.snapshot.params.tab),this._userService.getLoggedUser().subscribe((function(t){return e.user=t}))}},{key:"ionViewDidLeave",value:function(){this._searchChangeSubscription.unsubscribe()}},{key:"goToFollower",value:function(e){this._navCtrl.navigateForward("/home/card",{queryParams:{userName:e}})}},{key:"switchTab",value:function(e){this.tab=e||("followers"==this.tab?"following":"followers"),this.loadFollowers(!0)}},{key:"loadFollowers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&(this.followers=[],this.pageIndex=0),this.showLoading=!0,t.next=3,new Promise((function(e){switch(o.tab){case"followers":o._userService.getUserFollowers(o.pageIndex,o.pageLimit,o._searchTerms).subscribe((function(t){var n;(n=o.followers).push.apply(n,_toConsumableArray(t)),e(t)}));break;case"following":o._userService.getUserFollowing(o.pageIndex,o.pageLimit,o._searchTerms).subscribe((function(t){var n;(n=o.followers).push.apply(n,_toConsumableArray(t)),e(t)}));break;default:e([])}}));case 3:n=t.sent,this.showLoading=!1,this.showLoadMore=n.length>=this.pageLimit;case 5:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||_)(c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](p.M))},_.\u0275cmp=c["\u0275\u0275defineComponent"]({type:_,selectors:[["app-account-follows"]],decls:15,vars:8,consts:[[3,"showButtonBack","title"],[1,"tabs"],[1,"titles",3,"click"],[1,"selector"],[1,"followers"],["placeholder","Digite para pesquisar",1,"search",3,"input"],["searchInput",""],["class","empty",4,"ngIf"],["class","follower",3,"click",4,"ngFor","ngForOf"],["type","indeterminate","color","secondary",4,"ngIf"],["class","load-more",3,"click",4,"ngIf"],[1,"empty"],[1,"follower",3,"click"],[3,"src","error"],["profileImage",""],[1,"info-follower"],["type","indeterminate","color","secondary"],[1,"load-more",3,"click"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275element"](0,"base-toolbar",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275listener"]("click",(function(){return t.switchTab()})),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Seguindo"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span"),c["\u0275\u0275text"](6,"Seguidores"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](7,"div",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",4),c["\u0275\u0275elementStart"](9,"input",5,6),c["\u0275\u0275listener"]("input",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275reference"](10);return t.searchChange.next(e.value)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](11,d,2,0,"span",7),c["\u0275\u0275template"](12,f,8,3,"div",8),c["\u0275\u0275template"](13,h,1,0,"ion-progress-bar",9),c["\u0275\u0275template"](14,m,2,0,"span",10),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275property"]("showButtonBack",!0)("title",null==t.user?null:t.user.nickname),c["\u0275\u0275advance"](7),c["\u0275\u0275styleMap"]("left:"+("following"==t.tab?"0":"50")+"%"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",!(t.showLoading||null!=t.followers&&t.followers.length)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.followers),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.showLoading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.showLoadMore))},directives:[g.a,o.j,o.i,p.u],styles:["[_nghost-%COMP%]{background-color:var(--background-color)}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]{flex-direction:column;height:42px;min-height:42px;position:relative;cursor:pointer;width:var(--container-width);max-width:var(--container-max-width);margin:0 auto}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%], [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .titles[_ngcontent-%COMP%]{display:flex;justify-content:space-around}[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{height:2px;width:50%;background-color:var(--ion-color-secondary);position:absolute;transition:.3s;bottom:0}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding:24px;overflow:auto;height:100%;width:var(--container-width);max-width:var(--container-max-width);margin:0 auto}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], [_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{font-weight:700;color:var(--ion-color-secondary);cursor:pointer}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:42px;min-height:42px;border-radius:20px;border:1px solid #707070;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;padding:0 12px;background-color:var(--background-color)}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]{display:flex;gap:24px;cursor:pointer}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:12px}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;min-width:64px;min-height:64px;border-radius:50%}@supports (-webkit-touch-callout:none){[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]{margin-top:24px!important}[_nghost-%COMP%]   .followers[_ngcontent-%COMP%]   .follower[_ngcontent-%COMP%]   .info-follower[_ngcontent-%COMP%]{margin-left:12px!important}}"]}),_),v=((w=function e(){_classCallCheck(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:w}),w.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||w)},imports:[[o.b,r.a,a.j.forChild([{path:"",component:C}])]]}),w)}}]);