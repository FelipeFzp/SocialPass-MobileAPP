function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"7itd":function(e,t,i){!function(e,t,i){"use strict";var r=function(e){e&&Object.assign(this,e)},n=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new i.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new r),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",(function(){e.handleChangeEvent()}))),this.el.nativeElement.addEventListener("keydown",(function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())})),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout((function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var i=0,r=t;i<r.length;i++){var n=r[i];n&&n.addEventListener("touchend",(function(e){e.stopImmediatePropagation()}))}}}),500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run((function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)}))},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},t.propDecorators={options:[{type:i.Input,args:["options"]}],onAddressChange:[{type:i.Output}]},t.\u0275fac=function(i){return new(i||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}();t.GooglePlaceModule=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({factory:function(e){return new(e||t)}}),t}(),t.GooglePlaceDirective=n,Object.defineProperty(t,"__esModule",{value:!0})}(i("fXoL"),t,i("fXoL"))},PCNd:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var r=i("ofXK"),n=i("TEn/"),a=i("iTUp"),o=i("3Pt+"),s=i("7itd"),c=i("64T9"),h=i("rIor"),p=i("fXoL"),g=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,n.I,a.a,o.f,o.m,s.GooglePlaceModule,c.a,h.b],n.I,a.a,c.a]}),e}()},iTUp:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i("ofXK"),n=i("fXoL"),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b]]}),e}()},rIor:function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"b",(function(){return x}));var r=i("fXoL"),n=i("mrSG"),a=i("ofXK"),o=i("jhN1"),s=["wrapper"],c=["sourceImage"];function h(e,t){if(1&e){var i=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"img",4,5),r["\u0275\u0275listener"]("load",(function(){return r["\u0275\u0275restoreView"](i),r["\u0275\u0275nextContext"]().imageLoadedInView()})),r["\u0275\u0275elementEnd"]()}if(2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("visibility",n.imageVisible?"visible":"hidden")("transform",n.safeTransformStyle),r["\u0275\u0275property"]("src",n.safeImgDataUrl,r["\u0275\u0275sanitizeUrl"])}}function p(e,t){if(1&e){var i=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"span",9),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"topleft")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"topleft")})),r["\u0275\u0275element"](2,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"span",11),r["\u0275\u0275element"](4,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"span",12),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"topright")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"topright")})),r["\u0275\u0275element"](6,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"span",13),r["\u0275\u0275element"](8,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"span",14),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"bottomright")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"bottomright")})),r["\u0275\u0275element"](10,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"span",15),r["\u0275\u0275element"](12,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"span",16),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"bottomleft")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"bottomleft")})),r["\u0275\u0275element"](14,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"span",17),r["\u0275\u0275element"](16,"span",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"span",18),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"top")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"top")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"span",19),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"right")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"right")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"span",20),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"bottom")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"bottom")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"span",21),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"left")}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"](2);return t.startMove(e,t.moveTypes.Resize,"left")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}}function g(e,t){if(1&e){var i=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275listener"]("keydown",(function(e){return r["\u0275\u0275restoreView"](i),r["\u0275\u0275nextContext"]().keyboardAccess(e)})),r["\u0275\u0275elementStart"](1,"div",7),r["\u0275\u0275listener"]("mousedown",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"]();return t.startMove(e,t.moveTypes.Move)}))("touchstart",(function(e){r["\u0275\u0275restoreView"](i);var t=r["\u0275\u0275nextContext"]();return t.startMove(e,t.moveTypes.Move)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](2,p,21,0,"ng-container",8),r["\u0275\u0275elementEnd"]()}if(2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("top",n.cropper.y1,"px")("left",n.cropper.x1,"px")("width",n.cropper.x2-n.cropper.x1,"px")("height",n.cropper.y2-n.cropper.y1,"px")("margin-left","center"===n.alignImage?n.marginLeft:null)("visibility",n.imageVisible?"visible":"hidden"),r["\u0275\u0275classProp"]("rounded",n.roundCropper),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!n.hideResizeSquares)}}var l={Move:"move",Resize:"resize",Pinch:"pinch"},d=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"crop",value:function(e,t,i,r){var n=this.getImagePosition(e,t,i,r),a=n.x2-n.x1,o=n.y2-n.y1,s=document.createElement("canvas");s.width=a,s.height=o;var c=s.getContext("2d");if(c){null!=r.backgroundColor&&(c.fillStyle=r.backgroundColor,c.fillRect(0,0,a,o));var h=(r.transform.scale||1)*(r.transform.flipH?-1:1),p=(r.transform.scale||1)*(r.transform.flipV?-1:1),g=t.transformed;c.setTransform(h,0,0,p,g.size.width/2,g.size.height/2),c.translate(-n.x1/h,-n.y1/p),c.rotate((r.transform.rotate||0)*Math.PI/180),c.drawImage(g.image,-g.size.width/2,-g.size.height/2);var l={width:a,height:o,imagePosition:n,cropperPosition:Object.assign({},i)};r.containWithinAspectRatio&&(l.offsetImagePosition=this.getOffsetImagePosition(e,t,i,r));var d=this.getResizeRatio(a,o,r);return 1!==d&&(l.width=Math.round(a*d),l.height=r.maintainAspectRatio?Math.round(l.width/r.aspectRatio):Math.round(o*d),function(e,t,i){var r=e.width,n=e.height,a=r/(t=Math.round(t)),o=n/(i=Math.round(i)),s=Math.ceil(a/2),c=Math.ceil(o/2),h=e.getContext("2d");if(h){for(var p=h.getImageData(0,0,r,n),g=h.createImageData(t,i),l=p.data,d=g.data,u=0;u<i;u++)for(var m=0;m<t;m++){var f=4*(m+u*t),v=u*o,x=0,y=0,M=0,A=0,w=0,C=0,S=0,b=Math.floor(m*a),z=Math.floor(u*o),I=Math.ceil((m+1)*a),R=Math.ceil((u+1)*o);I=Math.min(I,r),R=Math.min(R,n);for(var P=z;P<R;P++)for(var k=Math.abs(v-P)/c,E=m*a,O=k*k,_=b;_<I;_++){var W=Math.abs(E-_)/s,H=Math.sqrt(O+W*W);if(!(H>=1)){var B=4*(_+P*r);S+=(x=2*H*H*H-3*H*H+1)*l[B+3],M+=x,l[B+3]<255&&(x=x*l[B+3]/250),A+=x*l[B],w+=x*l[B+1],C+=x*l[B+2],y+=x}}d[f]=A/y,d[f+1]=w/y,d[f+2]=C/y,d[f+3]=S/M}e.width=t,e.height=i,h.putImageData(g,0,0)}}(s,l.width,l.height)),l.base64=s.toDataURL("image/"+r.format,this.getQuality(r)),l}}},{key:"getImagePosition",value:function(e,t,i,r){var n=t.transformed.size.width/e.nativeElement.offsetWidth,a={x1:Math.round(i.x1*n),y1:Math.round(i.y1*n),x2:Math.round(i.x2*n),y2:Math.round(i.y2*n)};return r.containWithinAspectRatio||(a.x1=Math.max(a.x1,0),a.y1=Math.max(a.y1,0),a.x2=Math.min(a.x2,t.transformed.size.width),a.y2=Math.min(a.y2,t.transformed.size.height)),a}},{key:"getOffsetImagePosition",value:function(e,t,i,r){var n,a,o=t.transformed.size.width/e.nativeElement.offsetWidth;(r.canvasRotation+t.exifTransform.rotate)%2?(n=(t.transformed.size.width-t.original.size.height)/2,a=(t.transformed.size.height-t.original.size.width)/2):(n=(t.transformed.size.width-t.original.size.width)/2,a=(t.transformed.size.height-t.original.size.height)/2);var s={x1:Math.round(i.x1*o)-n,y1:Math.round(i.y1*o)-a,x2:Math.round(i.x2*o)-n,y2:Math.round(i.y2*o)-a};return r.containWithinAspectRatio||(s.x1=Math.max(s.x1,0),s.y1=Math.max(s.y1,0),s.x2=Math.min(s.x2,t.transformed.size.width),s.y2=Math.min(s.y2,t.transformed.size.height)),s}},{key:"getResizeRatio",value:function(e,t,i){var r=i.resizeToWidth/e,n=i.resizeToHeight/t,a=new Array;i.resizeToWidth>0&&a.push(r),i.resizeToHeight>0&&a.push(n);var o=0===a.length?1:Math.min.apply(Math,a);return o>1&&!i.onlyScaleDown?o:Math.min(o,1)}},{key:"getQuality",value:function(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),u=function(){function e(){_classCallCheck(this,e),this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return _createClass(e,[{key:"setOptions",value:function(e){var t=this;Object.keys(e).filter((function(e){return e in t})).forEach((function(i){return t[i]=e[i]}))}},{key:"setOptionsFromChanges",value:function(e){var t=this;Object.keys(e).filter((function(e){return e in t})).forEach((function(i){return t[i]=e[i].currentValue}))}}]),e}(),m=function(){var e=function(){function e(){_classCallCheck(this,e),this.autoRotateSupported=new Promise((function(e){var t=new Image;t.onload=function(){e(1===t.width&&2===t.height)},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}))}return _createClass(e,[{key:"loadImageFile",value:function(e,t){var i=this;return new Promise((function(r,n){var a=new FileReader;a.onload=function(a){i.loadImage(a.target.result,e.type,t).then(r).catch(n)},a.readAsDataURL(e)}))}},{key:"loadImage",value:function(e,t,i){return this.isValidImageType(t)?this.loadBase64Image(e,i):Promise.reject(new Error("Invalid image type"))}},{key:"isValidImageType",value:function(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(e)}},{key:"loadImageFromURL",value:function(e,t){var i=this;return new Promise((function(r,n){var a=new Image;a.onerror=function(){return n},a.onload=function(){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=a.width,e.height=a.height,n.drawImage(a,0,0),i.loadBase64Image(e.toDataURL(),t).then(r)},a.crossOrigin="anonymous",a.src=e}))}},{key:"loadBase64Image",value:function(e,t){var i=this;return new Promise((function(t,i){var r=new Image;r.onload=function(){return t({originalImage:r,originalBase64:e})},r.onerror=i,r.src=e})).then((function(e){return i.transformImageBase64(e,t)}))}},{key:"transformImageBase64",value:function(e,t){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.autoRotateSupported;case 2:return r=i.sent,i.next=5,function(e){switch("string"==typeof e&&(e=function(e){var t=new DataView(function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),i=t.length,r=new Uint8Array(i),n=0;n<i;n++)r[n]=t.charCodeAt(n);return r.buffer}(e));if(65496!=t.getUint16(0,!1))return-2;for(var i=t.byteLength,r=2;r<i;){if(t.getUint16(r+2,!1)<=8)return-1;var n=t.getUint16(r,!1);if(r+=2,65505==n){if(1165519206!=t.getUint32(r+=2,!1))return-1;var a=18761==t.getUint16(r+=6,!1);r+=t.getUint32(r+4,a);var o=t.getUint16(r,a);r+=2;for(var s=0;s<o;s++)if(274==t.getUint16(r+12*s,a))return t.getUint16(r+12*s+8,a)}else{if(65280!=(65280&n))break;r+=t.getUint16(r,!1)}}return-1}(e)),e){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(r?-1:e.originalBase64);case 5:return n=i.sent,i.abrupt("return",e.originalImage&&e.originalImage.complete?this.transformLoadedImage({original:{base64:e.originalBase64,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:n},t):Promise.reject(new Error("No image loaded")));case 7:case"end":return i.stop()}}),i,this)})))}},{key:"transformLoadedImage",value:function(e,t){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r,n,a,o,s,c,h;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=t.canvasRotation+e.exifTransform.rotate,n={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight},0!==r||e.exifTransform.flip||t.containWithinAspectRatio){i.next=3;break}return i.abrupt("return",{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},n)},transformed:{base64:e.original.base64,image:e.original.image,size:Object.assign({},n)},exifTransform:e.exifTransform});case 3:return a=this.getTransformedSize(n,e.exifTransform,t),(o=document.createElement("canvas")).width=a.width,o.height=a.height,(s=o.getContext("2d")).setTransform(e.exifTransform.flip?-1:1,0,0,1,o.width/2,o.height/2),s.rotate(Math.PI*(r/2)),s.drawImage(e.original.image,-n.width/2,-n.height/2),c=o.toDataURL(),i.next=10,this.loadImageFromBase64(c);case 10:return h=i.sent,i.abrupt("return",{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},n)},transformed:{base64:c,image:h,size:{width:h.width,height:h.height}},exifTransform:e.exifTransform});case 12:case"end":return i.stop()}}),i,this)})))}},{key:"loadImageFromBase64",value:function(e){return new Promise((function(t,i){var r=new Image;r.onload=function(){return t(r)},r.onerror=i,r.src=e}))}},{key:"getTransformedSize",value:function(e,t,i){var r=i.canvasRotation+t.rotate;if(i.containWithinAspectRatio){if(r%2){var n=e.height/i.aspectRatio;return{width:Math.max(e.height,e.width*i.aspectRatio),height:Math.max(e.width,n)}}var a=e.width/i.aspectRatio;return{width:Math.max(e.width,e.height*i.aspectRatio),height:Math.max(e.height,a)}}return r%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),f=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resetCropperPosition",value:function(e,t,i){var r=e.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)t.x1=0,t.x2=r.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:r.offsetWidth,t.y1=0,t.y2=r.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:r.offsetHeight;else{var n=Math.min(i.cropperScaledMaxWidth,r.offsetWidth),a=Math.min(i.cropperScaledMaxHeight,r.offsetHeight);if(i.maintainAspectRatio)if(n/i.aspectRatio<a){t.x1=0,t.x2=n;var o=n/i.aspectRatio;t.y1=(r.offsetHeight-o)/2,t.y2=t.y1+o}else{t.y1=0,t.y2=a;var s=a*i.aspectRatio;t.x1=(r.offsetWidth-s)/2,t.x2=t.x1+s}else t.x1=0,t.x2=n,t.y1=0,t.y2=a}}},{key:"move",value:function(e,t,i){var r=this.getClientX(e)-t.clientX,n=this.getClientY(e)-t.clientY;i.x1=t.x1+r,i.y1=t.y1+n,i.x2=t.x2+r,i.y2=t.y2+n}},{key:"resize",value:function(e,t,i,r,n){var a=this.getClientX(e)-t.clientX,o=this.getClientY(e)-t.clientY;switch(t.position){case"left":i.x1=Math.min(Math.max(t.x1+a,i.x2-n.cropperScaledMaxWidth),i.x2-n.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(t.x1+a,i.x2-n.cropperScaledMaxWidth),i.x2-n.cropperScaledMinWidth),i.y1=Math.min(Math.max(t.y1+o,i.y2-n.cropperScaledMaxHeight),i.y2-n.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(t.y1+o,i.y2-n.cropperScaledMaxHeight),i.y2-n.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(t.x2+a,i.x1+n.cropperScaledMaxWidth),i.x1+n.cropperScaledMinWidth),i.y1=Math.min(Math.max(t.y1+o,i.y2-n.cropperScaledMaxHeight),i.y2-n.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(t.x2+a,i.x1+n.cropperScaledMaxWidth),i.x1+n.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(t.x2+a,i.x1+n.cropperScaledMaxWidth),i.x1+n.cropperScaledMinWidth),i.y2=Math.max(Math.min(t.y2+o,i.y1+n.cropperScaledMaxHeight),i.y1+n.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(t.y2+o,i.y1+n.cropperScaledMaxHeight),i.y1+n.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(t.x1+a,i.x2-n.cropperScaledMaxWidth),i.x2-n.cropperScaledMinWidth),i.y2=Math.max(Math.min(t.y2+o,i.y1+n.cropperScaledMaxHeight),i.y1+n.cropperScaledMinHeight);break;case"center":var s=e.scale,c=Math.min(Math.max(n.cropperScaledMinWidth,Math.abs(t.x2-t.x1)*s),n.cropperScaledMaxWidth),h=Math.min(Math.max(n.cropperScaledMinHeight,Math.abs(t.y2-t.y1)*s),n.cropperScaledMaxHeight);i.x1=t.clientX-c/2,i.x2=t.clientX+c/2,i.y1=t.clientY-h/2,i.y2=t.clientY+h/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>r.width&&(i.x1-=i.x2-r.width,i.x2=r.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>r.height&&(i.y1-=i.y2-r.height,i.y2=r.height)}n.maintainAspectRatio&&this.checkAspectRatio(t.position,i,r,n)}},{key:"checkAspectRatio",value:function(e,t,i,r){var n=0,a=0;switch(e){case"top":t.x2=t.x1+(t.y2-t.y1)*r.aspectRatio,n=Math.max(t.x2-i.width,0),a=Math.max(0-t.y1,0),(n>0||a>0)&&(t.x2-=a*r.aspectRatio>n?a*r.aspectRatio:n,t.y1+=a*r.aspectRatio>n?a:n/r.aspectRatio);break;case"bottom":t.x2=t.x1+(t.y2-t.y1)*r.aspectRatio,n=Math.max(t.x2-i.width,0),a=Math.max(t.y2-i.height,0),(n>0||a>0)&&(t.x2-=a*r.aspectRatio>n?a*r.aspectRatio:n,t.y2-=a*r.aspectRatio>n?a:n/r.aspectRatio);break;case"topleft":t.y1=t.y2-(t.x2-t.x1)/r.aspectRatio,n=Math.max(0-t.x1,0),a=Math.max(0-t.y1,0),(n>0||a>0)&&(t.x1+=a*r.aspectRatio>n?a*r.aspectRatio:n,t.y1+=a*r.aspectRatio>n?a:n/r.aspectRatio);break;case"topright":t.y1=t.y2-(t.x2-t.x1)/r.aspectRatio,n=Math.max(t.x2-i.width,0),a=Math.max(0-t.y1,0),(n>0||a>0)&&(t.x2-=a*r.aspectRatio>n?a*r.aspectRatio:n,t.y1+=a*r.aspectRatio>n?a:n/r.aspectRatio);break;case"right":case"bottomright":t.y2=t.y1+(t.x2-t.x1)/r.aspectRatio,n=Math.max(t.x2-i.width,0),a=Math.max(t.y2-i.height,0),(n>0||a>0)&&(t.x2-=a*r.aspectRatio>n?a*r.aspectRatio:n,t.y2-=a*r.aspectRatio>n?a:n/r.aspectRatio);break;case"left":case"bottomleft":t.y2=t.y1+(t.x2-t.x1)/r.aspectRatio,n=Math.max(0-t.x1,0),a=Math.max(t.y2-i.height,0),(n>0||a>0)&&(t.x1+=a*r.aspectRatio>n?a*r.aspectRatio:n,t.y2-=a*r.aspectRatio>n?a:n/r.aspectRatio);break;case"center":t.x2=t.x1+(t.y2-t.y1)*r.aspectRatio,t.y2=t.y1+(t.x2-t.x1)/r.aspectRatio;var o=Math.max(0-t.x1,0),s=Math.max(t.x2-i.width,0),c=Math.max(t.y2-i.height,0),h=Math.max(0-t.y1,0);(o>0||s>0||c>0||h>0)&&(t.x1+=c*r.aspectRatio>o?c*r.aspectRatio:o,t.x2-=h*r.aspectRatio>s?h*r.aspectRatio:s,t.y1+=h*r.aspectRatio>s?h:s/r.aspectRatio,t.y2-=c*r.aspectRatio>o?c:o/r.aspectRatio)}}},{key:"getClientX",value:function(e){return(e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX)||0}},{key:"getClientY",value:function(e){return(e.touches&&e.touches[0]?e.touches[0].clientY:e.clientY)||0}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),v=function(){var e=function(){function e(t,i,n,a,o){_classCallCheck(this,e),this.cropService=t,this.cropperPositionService=i,this.loadImageService=n,this.sanitizer=a,this.cd=o,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new u,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=l,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new r.EventEmitter,this.startCropImage=new r.EventEmitter,this.imageLoaded=new r.EventEmitter,this.cropperReady=new r.EventEmitter,this.loadImageFailed=new r.EventEmitter,this.reset()}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage&&this.loadedImage.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then((function(e){return t.setLoadedImage(e)})).catch((function(e){return t.loadImageError(e)})),e.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),e.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesUpdateSettings",value:function(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}},{key:"onChangesInputImage",value:function(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"reset",value:function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(e){var t=this;this.loadImageService.loadImageFile(e,this.settings).then((function(e){return t.setLoadedImage(e)})).catch((function(e){return t.loadImageError(e)}))}},{key:"loadBase64Image",value:function(e){var t=this;this.loadImageService.loadBase64Image(e,this.settings).then((function(e){return t.setLoadedImage(e)})).catch((function(e){return t.loadImageError(e)}))}},{key:"loadImageFromURL",value:function(e){var t=this;this.loadImageService.loadImageFromURL(e,this.settings).then((function(e){return t.setLoadedImage(e)})).catch((function(e){return t.loadImageError(e)}))}},{key:"setLoadedImage",value:function(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.base64),this.cd.markForCheck()}},{key:"loadImageError",value:function(e){console.error(e),this.loadImageFailed.emit()}},{key:"imageLoadedInView",value:function(){var e=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout((function(){return e.checkImageMaxSizeRecursively()})))}},{key:"checkImageMaxSizeRecursively",value:function(){var e=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout((function(){return e.checkImageMaxSizeRecursively()}),50))}},{key:"sourceImageLoaded",value:function(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}},{key:"onResize",value:function(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var e=new this.Hammer(this.wrapper.nativeElement);e.get("pinch").set({enable:!0}),e.on("pinchmove",this.onPinch.bind(this)),e.on("pinchend",this.pinchStop.bind(this)),e.on("pinchstart",this.startPinch.bind(this))}else Object(r.isDevMode)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var e=this.sourceImage.nativeElement;this.maxSize.width===e.offsetWidth&&this.maxSize.height===e.offsetHeight||(this.cropper.x1=this.cropper.x1*e.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*e.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*e.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*e.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}},{key:"changeKeyboardStepSize",value:function(e){e.key>="1"&&e.key<="9"&&(this.settings.stepSize=+e.key)}},{key:"keyboardMoveCropper",value:function(e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key)){var t=e.shiftKey?l.Resize:l.Move,i=e.altKey?function(e){switch(e){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(e.key):function(e){switch(e){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(e.key),r=function(e,t){switch(e){case"ArrowUp":return{clientX:0,clientY:-1*t};case"ArrowRight":return{clientX:t,clientY:0};case"ArrowDown":return{clientX:0,clientY:t};case"ArrowLeft":default:return{clientX:-1*t,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},t,i),this.moveImg(r),this.moveStop()}}},{key:"startMove",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.moveStart&&this.moveStart.active&&this.moveStart.type===l.Pinch||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:t,position:i,clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper))}},{key:"startPinch",value:function(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:l.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===l.Move?(this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===l.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===l.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var e=this.sourceImage.nativeElement;this.maxSize.width=e.offsetWidth,this.maxSize.height=e.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}},{key:"setCropperScaledMaxSize",value:function(){if(this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image){var e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}},{key:"checkCropperPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();var e=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=e&&this.imageCropped.emit(e),e}return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d),r["\u0275\u0275directiveInject"](f),r["\u0275\u0275directiveInject"](m),r["\u0275\u0275directiveInject"](o.b),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["image-cropper"]],viewQuery:function(e,t){var i;1&e&&(r["\u0275\u0275staticViewQuery"](s,!0),r["\u0275\u0275viewQuery"](c,!0)),2&e&&(r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.wrapper=i.first),r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.sourceImage=i.first))},hostVars:4,hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("resize",(function(){return t.onResize()}),!1,r["\u0275\u0275resolveWindow"])("mousemove",(function(e){return t.moveImg(e)}),!1,r["\u0275\u0275resolveDocument"])("touchmove",(function(e){return t.moveImg(e)}),!1,r["\u0275\u0275resolveDocument"])("mouseup",(function(){return t.moveStop()}),!1,r["\u0275\u0275resolveDocument"])("touchend",(function(){return t.moveStop()}),!1,r["\u0275\u0275resolveDocument"]),2&e&&(r["\u0275\u0275styleProp"]("text-align",t.alignImage),r["\u0275\u0275classProp"]("disabled",t.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",null,0),r["\u0275\u0275template"](2,h,2,5,"img",1),r["\u0275\u0275element"](3,"div",2),r["\u0275\u0275template"](4,g,3,15,"div",3),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("background",t.imageVisible&&t.backgroundColor,r["\u0275\u0275defaultStyleSanitizer"]),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.safeImgDataUrl),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("width",t.maxSize.width,"px")("height",t.maxSize.height,"px")("margin-left","center"===t.alignImage?t.marginLeft:null),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.imageVisible))},directives:[a.j],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),e}(),x=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b]]}),e}()}}]);